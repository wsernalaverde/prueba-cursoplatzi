{"version":3,"sources":["listen.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,QAAQ,2BAAR,CAAf;;AAEJ,IAAI,gBAAgB,uBAAuB,YAAvB,CAAhB;;AAEJ,IAAI,WAAW,QAAQ,+BAAR,CAAX;;AAEJ,IAAI,YAAY,uBAAuB,QAAvB,CAAZ;;AAEJ,IAAI,qBAAqB,QAAQ,wCAAR,CAArB;;AAEJ,IAAI,qBAAqB,uBAAuB,kBAAvB,CAArB;;AAEJ,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C,SAAO,IAAP;CADF;;AAIA,IAAI,OAAO,QAAQ,SAAR,CAAP;;AAEJ,IAAI,QAAQ,uBAAuB,IAAvB,CAAR;;AAEJ,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAJ,GAAiB,GAAxB,GAA8B,EAAE,SAAS,GAAT,EAAhC,CAAT;CAArC;;AAEA,QAAQ,OAAR,GAAkB,YAAY;AAC5B,MAAI,MAAM,CAAC,GAAG,mBAAmB,OAAnB,CAAJ,CAAgC,cAAc,OAAd,CAAsB,IAAtB,CAA2B,SAAS,OAAT,CAAiB,EAAjB,EAAqB;AACxF,QAAI,GAAJ,CADwF;AAExF,WAAO,cAAc,OAAd,CAAsB,IAAtB,CAA2B,SAAS,QAAT,CAAkB,QAAlB,EAA4B;AAC5D,aAAO,CAAP,EAAU;AACR,gBAAQ,SAAS,IAAT,GAAgB,SAAS,IAAT;AACtB,eAAK,CAAL;AACE,kBAAM,CAAC,GAAG,MAAM,OAAN,CAAJ,CAAmB,EAAnB,CAAN,CADF;AAEE,mBAAO,SAAS,MAAT,CAAgB,QAAhB,EAA0B,IAAI,UAAU,OAAV,CAAkB,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AAChF,kBAAI,MAAJ,CAAW,UAAU,GAAV,EAAe;AACxB,oBAAI,GAAJ,EAAS,OAAO,OAAO,GAAP,CAAP,CAAT;;AAEA,oBAAI,eAAe,IAAI,OAAJ,EAAf,CAHoB;;AAKxB,oBAAI,OAAO,aAAa,IAAb,CALa;;AAOxB,wBAAQ,sBAAsB,IAAtB,CAAR,CAPwB;eAAf,CAAX,CADgF;aAA3B,CAAhD,CAAP,CAFF;;AADF,eAeO,CAAL,CAfF;AAgBE,eAAK,KAAL;AACE,mBAAO,SAAS,IAAT,EAAP,CADF;AAhBF,SADQ;OAAV;KADgC,EAsB/B,OAtBI,EAsBK,IAtBL,CAAP,CAFwF;GAArB,CAA3D,CAAN,CADwB;AA2B5B,SAAO,UAAU,EAAV,EAAc;AACnB,WAAO,IAAI,KAAJ,CAAU,IAAV,EAAgB,SAAhB,CAAP,CADmB;GAAd,CA3BqB;CAAZ,EAAlB","file":"listen.js","sourcesContent":["'use strict';\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lib = require('../lib/');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  var ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(fn) {\n    var srv;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            srv = (0, _lib2.default)(fn);\n            return _context.abrupt('return', new _promise2.default(function (resolve, reject) {\n              srv.listen(function (err) {\n                if (err) return reject(err);\n\n                var _srv$address = srv.address();\n\n                var port = _srv$address.port;\n\n                resolve('http://localhost:' + port);\n              });\n            }));\n\n          case 2:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return function (_x) {\n    return ref.apply(this, arguments);\n  };\n}();"]}